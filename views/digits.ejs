<!DOCTYPE html>
<html>
<head>
  <title>Auth with Digits</title>
  <meta charset="utf-8">
</head>
<body>
  <script>
    var config = {
      digitsConsumerKey: '<%= DIGITS_CONSUMER_KEY %>'
    };
  </script>
  <script id="digits-sdk" src="https://cdn.digits.com/1/sdk.js" async></script>

  <script>
    document.getElementById('digits-sdk').onload = function() {
	    // Initialize Digits using the API key.
	    Digits.init({ consumerKey: config.digitsConsumerKey })
	      .done(function() {
	        console.log('Digits initialized.');
	        Digits.logIn({ callbackURL: 'http://192.168.31.142:3000/digits_callback' });
	      })
	      .fail(function() {
	        alert('Digits failed to initialize.');
	      });
  	};
  </script>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</body>
</html>
